@model PinkGarage.Models.Vehicle

@{
    ViewBag.Title = "Checkout vehicle";
}

<h2>Checkout vehicle</h2>

<div>
    <hr />
    <dl class="dl-horizontal">

        <dt>
            @Html.DisplayNameFor(model => model.RegNum)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.RegNum)
        </dd>
        <dt>
            Type of Vehicle
        </dt>

        <dd>
            @Html.DisplayFor(model => model.VehicleType.VehicleTypeName)
        </dd>



    </dl>



    <dl class="dl-horizontal">

        <dt>
            @Html.DisplayNameFor(model => model.Color)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Color)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Brand)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Brand)<hr />
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.Member.FName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Member.FName)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.Member.LName)
        </dt>


        <dd>
            @Html.DisplayFor(model => model.Member.LName)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.Member.Address)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Member.Address)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.Member.PhoneNumber)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Member.PhoneNumber)<hr />
        </dd>
        </dl>



        <dl class="dl-horizontal">

            <dt>
                @Html.DisplayNameFor(model => model.CheckInTime)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.CheckInTime)
            </dd>

            <dt>
                Checkouttime
            </dt>

            <dd>
                @DateTime.Now


                @{

                    TimeSpan timeParked = DateTime.Now - Model.CheckInTime;

                    double totalCosts = Math.Ceiling(timeParked.TotalMinutes);

                    string timestring;
                    string HourString;
                    string MinString;
                    if(Math.Floor(timeParked.TotalHours) <= 1) { HourString = " Hr : "; } else { HourString = " Hrs : "; }
                    if(timeParked.Minutes <= 1) { MinString = "Min"; } else { MinString = "Mins"; }
                    timestring = @Math.Floor(timeParked.TotalHours) + HourString + timeParked.ToString("mm") + MinString;
                }

            </dd>
        </dl>
        <dl class="dl-horizontal">

            <dt>Total Parking Time</dt>
            <dd>@timestring</dd>
            <dt>Your parking fee is</dt>
            <dd>@totalCosts SEK;</dd>

        </dl>
</div>
<p>
    @Html.ActionLink("Back", null, null, null, new { href = Request.UrlReferrer }) | 
    @Html.ActionLink("Receipt", "Receipt", new { id = Model.VehicleID }, new { Member = Model.Member })
</p>
